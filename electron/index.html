<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Image Crawler App</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .container { max-width: 99vh; margin: auto; }
        .section { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .section h2 { margin-top: 0; }
        .form-group { margin-bottom: 10px; }
        .form-group label { display: block; margin-bottom: 5px; }
        .form-group input[type="text"], .form-group input[type="number"], .form-group select { width: 95%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .mode-options { display: none; } /* Hidden by default */
        .log-area { height: 200px; border: 1px solid #ddd; background-color: #f9f9f9; overflow-y: auto; padding: 10px; margin-top: 20px; white-space: pre-wrap; }
        button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Image Crawler</h1>

        <div class="section">
            <h2>Mode Selection</h2>
            <div class="form-group">
                <label><input type="radio" name="mode" value="local" checked> Local Mode</label>
                <label><input type="radio" name="mode" value="web"> Web Mode</label>
            </div>
        </div>

        <div id="localOptions" class="section mode-options">
            <h2>Local Mode Options</h2>
            <div class="form-group">
                <label for="localSourceDir">Source Directory:</label>
                <input type="text" id="localSourceDir" readonly placeholder="Click 'Select Source' button">
                <button id="selectSourceDirBtn">Select Source</button>
            </div>
            <div class="form-group">
                <label for="localOutputDir">Output Directory:</label>
                <input type="text" id="localOutputDir" readonly placeholder="Click 'Select Output' button">
                <button id="selectLocalOutputDirBtn">Select Output</button>
            </div>
            <div class="form-group">
                <label for="localMinWidth">Minimum Width (pixels):</label>
                <input type="number" id="localMinWidth" placeholder="e.g., 600">
            </div>
            <div class="form-group">
                <label for="localMinHeight">Minimum Height (pixels):</label>
                <input type="number" id="localMinHeight" placeholder="e.g., 400">
            </div>
            <div class="form-group">
                <label for="localMinSize">Minimum File Size (e.g., 100KB, 1MB):</label>
                <input type="text" id="localMinSize" placeholder="e.g., 50KB">
            </div>
            <div class="form-group">
                <label for="localMaxFiles">Max Files to Process (0 for unlimited):</label>
                <input type="number" id="localMaxFiles" placeholder="e.g., 1000">
            </div>
            <div class="form-group">
                <label for="localFileTypes">File Types (comma-separated):</label>
                <input type="text" id="localFileTypes" placeholder="e.g., jpg,png,gif">
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="localPreserveStructure"> Preserve Directory Structure</label>
            </div>
            <button id="startLocalScanBtn">Start Local Scan</button>
        </div>

        <div id="webOptions" class="section mode-options">
            <h2>Web Mode Options</h2>
            <div class="form-group">
                <label for="webQuery">Search Query:</label>
                <input type="text" id="webQuery" placeholder="e.g., 'cute kittens'">
            </div>
            <div class="form-group">
                <label for="webOutputDir">Output Directory:</label>
                <input type="text" id="webOutputDir" readonly placeholder="Click 'Select Output' button">
                <button id="selectWebOutputDirBtn">Select Output</button>
            </div>
            <div class="form-group">
                <label for="webMaxDownloads">Max Downloads (0 for no limit):</label>
                <input type="number" id="webMaxDownloads" placeholder="e.g., 50">
            </div>
            <div class="form-group">
                <label for="webMinWidth">Minimum Width (pixels):</label>
                <input type="number" id="webMinWidth" placeholder="e.g., 800">
            </div>
            <div class="form-group">
                <label for="webMinHeight">Minimum Height (pixels):</label>
                <input type="number" id="webMinHeight" placeholder="e.g., 600">
            </div>
            <div class="form-group">
                <label for="webMinSize">Minimum File Size (e.g., 100KB):</label>
                <input type="text" id="webMinSize" placeholder="e.g., 100KB">
            </div>
            <div class="form-group">
                <label for="webFileTypes">File Types (comma-separated):</label>
                <input type="text" id="webFileTypes" placeholder="e.g., jpg,png">
            </div>
            <div class="form-group">
                <label for="webProvider">Image Provider:</label>
                <select id="webProvider">
                    <option value="all" selected>All</option>
                    <option value="pixabay">Pixabay</option>
                    <option value="unsplash">Unsplash</option>
                    <option value="google">Google</option>
                    <option value="bing">Bing</option>
                    <option value="flickr">Flickr</option>
                    <option value="wikimedia">Wikimedia</option>
                    <option value="pexels">Pexels</option>
                    <option value="freeimages">Freeimages</option>
                    <option value="duckduckgo">DuckDuckGo</option>
                </select>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="webSafeSearch" checked> Enable Safe Search</label>
            </div>
            <div class="form-group">
                <label><input type="checkbox" id="webHeadless" checked> Run Headless Browser</label>
            </div>
            <div class="form-group">
                <label for="webTimeout">Browser Timeout (ms):</label>
                <input type="number" id="webTimeout" placeholder="e.g., 30000">
            </div>
            <button id="startWebDownloadBtn">Start Web Download</button>
        </div>
        
        <div class="section">
            <h2>Logs</h2>
            <div id="logArea" class="log-area">
                Logs will appear here...
            </div>
            <button id="saveUiLogsBtn" style="margin-top: 10px;">Save UI Logs</button>
        </div>
    </div>

    <script src="./renderer.js"></script>
</body>
</html>
